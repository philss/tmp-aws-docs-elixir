<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.21.2">
    <meta name="project" content="aws-elixir v0.6.0">

    <title>AWS.Request.Internal â€” aws-elixir v0.6.0</title>
    <link rel="stylesheet" href="dist/html-de2388dc2f8074b0a4db.css" />

    <script src="dist/sidebar_items-5c95ee67ab.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-de2388dc2f8074b0a4db.js"></script>


  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode') === 'true') document.body.className += ' night-mode'; } catch (e) { }</script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button">
      <span class="icon-cross" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" id="search-list" class="search-input" placeholder="Search..." aria-label="Search" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="http://github.com/aws-beam/aws-elixir" class="sidebar-projectName">
aws-elixir
      </a>
      <h2 class="sidebar-projectVersion">
        v0.6.0
      </h2>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>



  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
        <small class="app-vsn">aws-elixir v0.6.0</small>
AWS.Request.Internal

          <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L119" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>

      </h1>



        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_authorization_header/2">add_authorization_header(headers, authorization)</a>

  </div>

    <div class="summary-synopsis"><p>Add an <code class="inline">Authorization</code> header with an AWS4-HMAC-SHA256 signature to the list
of headers.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_content_hash/2">add_content_hash(headers, body)</a>

  </div>

    <div class="summary-synopsis"><p>Add an X-Amz-Content-SHA256 header which is the hash of the payload.
This header is required for S3 when using the v4 signature. Adding it
in requests for all services does not cause any issues.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_date_header/2">add_date_header(headers, date)</a>

  </div>

    <div class="summary-synopsis"><p>Add an <code class="inline">X-Amz-Date</code> header with a long date value in <code class="inline">YYMMDDTHHMMSSZ</code> format
to a list of headers.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_security_token/2">add_security_token(headers, client)</a>

  </div>

    <div class="summary-synopsis"><p>Add an <code class="inline">X-Amz-Security-Token</code> if credentials configurations are configured for it</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#authorization/4">authorization(access_key_id, credential_scope, signed_headers, signature)</a>

  </div>

    <div class="summary-synopsis"><p>Generate an AWS4-HMAC-SHA256 authorization signature.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#canonical_header/1">canonical_header(arg)</a>

  </div>

    <div class="summary-synopsis"><p>Strip leading and trailing whitespace around <code class="inline">name</code> and <code class="inline">value</code>, convert
<code class="inline">name</code> to lowercase, and add a trailing newline.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#canonical_headers/1">canonical_headers(headers)</a>

  </div>

    <div class="summary-synopsis"><p>Convert a list of headers to canonical header format.  Leading and trailing
whitespace around header names and values is stripped, header names are
lowercased, and headers are newline-joined in alphabetical order (with a
trailing newline).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#canonical_request/4">canonical_request(method, url, headers, body)</a>

  </div>

    <div class="summary-synopsis"><p>Process and merge request values into a canonical request for AWS signature
version 4.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#credential_scope/3">credential_scope(short_date, region, service)</a>

  </div>

    <div class="summary-synopsis"><p>Generate a credential scope from a short date in <code class="inline">YYMMDD</code> format, a region
identifier and a service identifier.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#signed_header/1">signed_header(arg)</a>

  </div>

    <div class="summary-synopsis"><p>Strip leading and trailing whitespace around Name and convert it to
lowercase.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#signed_headers/1">signed_headers(headers)</a>

  </div>

    <div class="summary-synopsis"><p>Convert a list of headers to canonicals signed header format.  Leading and
trailing whitespace around names is stripped, header names are lowercased,
and header names are semicolon-joined in alphabetical order.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#signing_key/4">signing_key(secret_access_key, short_date, region, service)</a>

  </div>

    <div class="summary-synopsis"><p>Generate a signing key from a secret access key, a short date in <code class="inline">YYMMDD</code>
format, a region identifier and a service identifier.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#split_url/1">split_url(url)</a>

  </div>

    <div class="summary-synopsis"><p>Strip the query string from the URL, if one if present, and return the URL
and query string as separate values.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#string_to_sign/3">string_to_sign(long_date, credential_scope, hashed_canonical_request)</a>

  </div>

    <div class="summary-synopsis"><p>Generate the text to sign from a long date in <code class="inline">YYMMDDTHHMMSSZ</code> format, a
credential scope and a hashed canonical request.</p></div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="add_authorization_header/2">

  <div class="detail-header">
    <a href="#add_authorization_header/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">add_authorization_header(headers, authorization)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L124" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Add an <code class="inline">Authorization</code> header with an AWS4-HMAC-SHA256 signature to the list
of headers.</p>

  </section>
</section>
<section class="detail" id="add_content_hash/2">

  <div class="detail-header">
    <a href="#add_content_hash/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">add_content_hash(headers, body)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L148" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Add an X-Amz-Content-SHA256 header which is the hash of the payload.
This header is required for S3 when using the v4 signature. Adding it
in requests for all services does not cause any issues.</p>

  </section>
</section>
<section class="detail" id="add_date_header/2">

  <div class="detail-header">
    <a href="#add_date_header/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">add_date_header(headers, date)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L132" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Add an <code class="inline">X-Amz-Date</code> header with a long date value in <code class="inline">YYMMDDTHHMMSSZ</code> format
to a list of headers.</p>

  </section>
</section>
<section class="detail" id="add_security_token/2">

  <div class="detail-header">
    <a href="#add_security_token/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">add_security_token(headers, client)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L139" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Add an <code class="inline">X-Amz-Security-Token</code> if credentials configurations are configured for it</p>

  </section>
</section>
<section class="detail" id="authorization/4">

  <div class="detail-header">
    <a href="#authorization/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">authorization(access_key_id, credential_scope, signed_headers, signature)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L155" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Generate an AWS4-HMAC-SHA256 authorization signature.</p>

  </section>
</section>
<section class="detail" id="canonical_header/1">

  <div class="detail-header">
    <a href="#canonical_header/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">canonical_header(arg)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L167" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Strip leading and trailing whitespace around <code class="inline">name</code> and <code class="inline">value</code>, convert
<code class="inline">name</code> to lowercase, and add a trailing newline.</p>

  </section>
</section>
<section class="detail" id="canonical_headers/1">

  <div class="detail-header">
    <a href="#canonical_headers/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">canonical_headers(headers)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L179" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Convert a list of headers to canonical header format.  Leading and trailing
whitespace around header names and values is stripped, header names are
lowercased, and headers are newline-joined in alphabetical order (with a
trailing newline).</p>

  </section>
</section>
<section class="detail" id="canonical_request/4">

  <div class="detail-header">
    <a href="#canonical_request/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">canonical_request(method, url, headers, body)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L187" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Process and merge request values into a canonical request for AWS signature
version 4.</p>

  </section>
</section>
<section class="detail" id="credential_scope/3">

  <div class="detail-header">
    <a href="#credential_scope/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">credential_scope(short_date, region, service)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L206" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Generate a credential scope from a short date in <code class="inline">YYMMDD</code> format, a region
identifier and a service identifier.</p>

  </section>
</section>
<section class="detail" id="signed_header/1">

  <div class="detail-header">
    <a href="#signed_header/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">signed_header(arg)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L214" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Strip leading and trailing whitespace around Name and convert it to
lowercase.</p>

  </section>
</section>
<section class="detail" id="signed_headers/1">

  <div class="detail-header">
    <a href="#signed_headers/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">signed_headers(headers)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L223" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Convert a list of headers to canonicals signed header format.  Leading and
trailing whitespace around names is stripped, header names are lowercased,
and header names are semicolon-joined in alphabetical order.</p>

  </section>
</section>
<section class="detail" id="signing_key/4">

  <div class="detail-header">
    <a href="#signing_key/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">signing_key(secret_access_key, short_date, region, service)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L231" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Generate a signing key from a secret access key, a short date in <code class="inline">YYMMDD</code>
format, a region identifier and a service identifier.</p>

  </section>
</section>
<section class="detail" id="split_url/1">

  <div class="detail-header">
    <a href="#split_url/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">split_url(url)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L243" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Strip the query string from the URL, if one if present, and return the URL
and query string as separate values.</p>

  </section>
</section>
<section class="detail" id="string_to_sign/3">

  <div class="detail-header">
    <a href="#string_to_sign/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">string_to_sign(long_date, credential_scope, hashed_canonical_request)</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/request.ex#L252" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Generate the text to sign from a long date in <code class="inline">YYMMDDTHHMMSSZ</code> format, a
credential scope and a hashed canonical request.</p>

  </section>
</section>

          </div>
        </section>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.21.2),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
