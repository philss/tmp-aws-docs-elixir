<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.21.2">
    <meta name="project" content="aws-elixir v0.6.0">

    <title>AWS.Firehose â€” aws-elixir v0.6.0</title>
    <link rel="stylesheet" href="dist/html-de2388dc2f8074b0a4db.css" />

    <script src="dist/sidebar_items-eca8f70a3d.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-de2388dc2f8074b0a4db.js"></script>


  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode') === 'true') document.body.className += ' night-mode'; } catch (e) { }</script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button">
      <span class="icon-cross" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" id="search-list" class="search-input" placeholder="Search..." aria-label="Search" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="http://github.com/aws-beam/aws-elixir" class="sidebar-projectName">
aws-elixir
      </a>
      <h2 class="sidebar-projectVersion">
        v0.6.0
      </h2>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>



  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
        <small class="app-vsn">aws-elixir v0.6.0</small>
AWS.Firehose

          <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L4" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>

      </h1>


        <section id="moduledoc">
<p>Amazon Kinesis Data Firehose API Reference</p>
<p>Amazon Kinesis Data Firehose is a fully managed service that delivers real-time streaming data to
destinations such as Amazon Simple Storage Service (Amazon S3), Amazon Elasticsearch Service
(Amazon ES), Amazon Redshift, and Splunk.</p>

        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#create_delivery_stream/3">create_delivery_stream(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Creates a Kinesis Data Firehose delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_delivery_stream/3">delete_delivery_stream(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Deletes a delivery stream and its data.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#describe_delivery_stream/3">describe_delivery_stream(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Describes the specified delivery stream and its status.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list_delivery_streams/3">list_delivery_streams(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Lists your delivery streams in alphabetical order of their names.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list_tags_for_delivery_stream/3">list_tags_for_delivery_stream(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Lists the tags for the specified delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#put_record/3">put_record(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Writes a single data record into an Amazon Kinesis Data Firehose delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#put_record_batch/3">put_record_batch(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Writes multiple data records into a delivery stream in a single call, which can achieve higher
throughput per producer than when writing single records.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start_delivery_stream_encryption/3">start_delivery_stream_encryption(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Enables server-side encryption (SSE) for the delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_delivery_stream_encryption/3">stop_delivery_stream_encryption(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Disables server-side encryption (SSE) for the delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#tag_delivery_stream/3">tag_delivery_stream(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Adds or updates tags for the specified delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#untag_delivery_stream/3">untag_delivery_stream(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Removes tags from the specified delivery stream.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#update_destination/3">update_destination(client, input, options \\ [])</a>

  </div>

    <div class="summary-synopsis"><p>Updates the specified destination of the specified delivery stream.</p></div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="create_delivery_stream/3">

    <span id="create_delivery_stream/2"></span>

  <div class="detail-header">
    <a href="#create_delivery_stream/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">create_delivery_stream(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L75" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Creates a Kinesis Data Firehose delivery stream.</p>
<p>By default, you can create up to 50 delivery streams per AWS Region.</p>
<p>This is an asynchronous operation that immediately returns. The initial status of the delivery
stream is <code class="inline">CREATING</code>. After the delivery stream is created, its status is <code class="inline">ACTIVE</code> and it now
accepts data. If the delivery stream creation fails, the status transitions to <code class="inline">CREATING_FAILED</code>.
Attempts to send data to a delivery stream that is not in the <code class="inline">ACTIVE</code> state cause an exception.
To check the state of a delivery stream, use <code class="inline">DescribeDeliveryStream</code>.</p>
<p>If the status of a delivery stream is <code class="inline">CREATING_FAILED</code>, this status doesn&#39;t change, and you can&#39;t
invoke <code class="inline">CreateDeliveryStream</code> again on it. However, you can invoke the <code class="inline">DeleteDeliveryStream</code>
operation to delete it.</p>
<p>A Kinesis Data Firehose delivery stream can be configured to receive records directly from
providers using <code class="inline">PutRecord</code> or <code class="inline">PutRecordBatch</code>, or it can be configured to use an existing
Kinesis stream as its source. To specify a Kinesis data stream as input, set the
<code class="inline">DeliveryStreamType</code> parameter to <code class="inline">KinesisStreamAsSource</code>, and provide the Kinesis stream Amazon
Resource Name (ARN) and role ARN in the <code class="inline">KinesisStreamSourceConfiguration</code> parameter.</p>
<p>To create a delivery stream with server-side encryption (SSE) enabled, include
<code class="inline">DeliveryStreamEncryptionConfigurationInput</code> in your request. This is optional. You can also
invoke <code class="inline">StartDeliveryStreamEncryption</code> to turn on SSE for an existing delivery stream that doesn&#39;t
have SSE enabled.</p>
<p>A delivery stream is configured with a single destination: Amazon S3, Amazon ES, Amazon Redshift,
or Splunk. You must specify only one of the following destination configuration parameters:
<code class="inline">ExtendedS3DestinationConfiguration</code>, <code class="inline">S3DestinationConfiguration</code>,
<code class="inline">ElasticsearchDestinationConfiguration</code>, <code class="inline">RedshiftDestinationConfiguration</code>, or
<code class="inline">SplunkDestinationConfiguration</code>.</p>
<p>When you specify <code class="inline">S3DestinationConfiguration</code>, you can also provide the following optional values:
BufferingHints, <code class="inline">EncryptionConfiguration</code>, and <code class="inline">CompressionFormat</code>. By default, if no
<code class="inline">BufferingHints</code> value is provided, Kinesis Data Firehose buffers data up to 5 MB or for 5
minutes, whichever condition is satisfied first. <code class="inline">BufferingHints</code> is a hint, so there are some
cases where the service cannot adhere to these conditions strictly. For example, record boundaries
might be such that the size is a little over or under the configured buffering size. By default,
no encryption is performed. We strongly recommend that you enable encryption to ensure secure data
storage in Amazon S3.</p>
<p>A few notes about Amazon Redshift as a destination:</p>
<ul>
<li><p>An Amazon Redshift destination requires an S3 bucket as intermediate location.
Kinesis Data Firehose first delivers data to Amazon S3 and then uses <code class="inline">COPY</code> syntax to load data
into an Amazon Redshift table. This is specified in the
<code class="inline">RedshiftDestinationConfiguration.S3Configuration</code> parameter.</p>
</li>
<li><p>The compression formats <code class="inline">SNAPPY</code> or <code class="inline">ZIP</code> cannot be specified in
<code class="inline">RedshiftDestinationConfiguration.S3Configuration</code> because the Amazon Redshift <code class="inline">COPY</code> operation
that reads from the S3 bucket doesn&#39;t support these compression formats.</p>
</li>
<li><p>We strongly recommend that you use the user name and password you provide
exclusively with Kinesis Data Firehose, and that the permissions for the account are restricted
for Amazon Redshift <code class="inline">INSERT</code> permissions.</p>
</li>
</ul>
<p>Kinesis Data Firehose assumes the IAM role that is configured as part of the destination. The role
should allow the Kinesis Data Firehose principal to assume the role, and the role should have
permissions that allow the service to deliver the data. For more information, see <a href="https://docs.aws.amazon.com/firehose/latest/dev/controlling-access.html#using-iam-s3">Grant Kinesis Data Firehose Access to an Amazon S3
Destination</a>
in the <em>Amazon Kinesis Data Firehose Developer Guide</em>.</p>

  </section>
</section>
<section class="detail" id="delete_delivery_stream/3">

    <span id="delete_delivery_stream/2"></span>

  <div class="detail-header">
    <a href="#delete_delivery_stream/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">delete_delivery_stream(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L92" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Deletes a delivery stream and its data.</p>
<p>To check the state of a delivery stream, use <code class="inline">DescribeDeliveryStream</code>. You can delete a delivery
stream only if it is in one of the following states: <code class="inline">ACTIVE</code>, <code class="inline">DELETING</code>, <code class="inline">CREATING_FAILED</code>, or
<code class="inline">DELETING_FAILED</code>. You can&#39;t delete a delivery stream that is in the <code class="inline">CREATING</code> state. While the
deletion request is in process, the delivery stream is in the <code class="inline">DELETING</code> state.</p>
<p>While the delivery stream is in the <code class="inline">DELETING</code> state, the service might continue to accept
records, but it doesn&#39;t make any guarantees with respect to delivering the data. Therefore, as a
best practice, first stop any applications that are sending records before you delete a delivery
stream.</p>

  </section>
</section>
<section class="detail" id="describe_delivery_stream/3">

    <span id="describe_delivery_stream/2"></span>

  <div class="detail-header">
    <a href="#describe_delivery_stream/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">describe_delivery_stream(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L107" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Describes the specified delivery stream and its status.</p>
<p>For example, after your delivery stream is created, call <code class="inline">DescribeDeliveryStream</code> to see whether
the delivery stream is <code class="inline">ACTIVE</code> and therefore ready for data to be sent to it.</p>
<p>If the status of a delivery stream is <code class="inline">CREATING_FAILED</code>, this status doesn&#39;t change, and you can&#39;t
invoke <code class="inline">CreateDeliveryStream</code> again on it. However, you can invoke the <code class="inline">DeleteDeliveryStream</code>
operation to delete it. If the status is <code class="inline">DELETING_FAILED</code>, you can force deletion by invoking
<code class="inline">DeleteDeliveryStream</code> again but with <code class="inline">DeleteDeliveryStreamInput$AllowForceDelete</code> set to true.</p>

  </section>
</section>
<section class="detail" id="list_delivery_streams/3">

    <span id="list_delivery_streams/2"></span>

  <div class="detail-header">
    <a href="#list_delivery_streams/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">list_delivery_streams(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L121" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Lists your delivery streams in alphabetical order of their names.</p>
<p>The number of delivery streams might be too large to return using a single call to
<code class="inline">ListDeliveryStreams</code>. You can limit the number of delivery streams returned, using the <code class="inline">Limit</code>
parameter. To determine whether there are more delivery streams to list, check the value of
<code class="inline">HasMoreDeliveryStreams</code> in the output. If there are more delivery streams to list, you can
request them by calling this operation again and setting the <code class="inline">ExclusiveStartDeliveryStreamName</code>
parameter to the name of the last delivery stream returned in the last call.</p>

  </section>
</section>
<section class="detail" id="list_tags_for_delivery_stream/3">

    <span id="list_tags_for_delivery_stream/2"></span>

  <div class="detail-header">
    <a href="#list_tags_for_delivery_stream/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">list_tags_for_delivery_stream(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L130" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Lists the tags for the specified delivery stream.</p>
<p>This operation has a limit of five transactions per second per account.</p>

  </section>
</section>
<section class="detail" id="put_record/3">

    <span id="put_record/2"></span>

  <div class="detail-header">
    <a href="#put_record/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">put_record(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L169" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Writes a single data record into an Amazon Kinesis Data Firehose delivery stream.</p>
<p>To write multiple data records into a delivery stream, use <code class="inline">PutRecordBatch</code>. Applications using
these operations are referred to as producers.</p>
<p>By default, each delivery stream can take in up to 2,000 transactions per second, 5,000 records
per second, or 5 MB per second. If you use <code class="inline">PutRecord</code> and <code class="inline">PutRecordBatch</code>, the limits are an
aggregate across these two operations for each delivery stream. For more information about limits
and how to request an increase, see <a href="https://docs.aws.amazon.com/firehose/latest/dev/limits.html">Amazon Kinesis Data Firehose Limits</a>.</p>
<p>You must specify the name of the delivery stream and the data record when using <code class="inline">PutRecord</code>. The
data record consists of a data blob that can be up to 1,000 KB in size, and any kind of data. For
example, it can be a segment from a log file, geographic location data, website clickstream data,
and so on.</p>
<p>Kinesis Data Firehose buffers records before delivering them to the destination. To disambiguate
the data blobs at the destination, a common solution is to use delimiters in the data, such as a
newline (<code class="inline"></code>) or some other character unique within the data. This allows the consumer
application to parse individual data items when reading the data from the destination.</p>
<p>The <code class="inline">PutRecord</code> operation returns a <code class="inline">RecordId</code>, which is a unique string assigned to each record.
Producer applications can use this ID for purposes such as auditability and investigation.</p>
<p>If the <code class="inline">PutRecord</code> operation throws a <code class="inline">ServiceUnavailableException</code>, back off and retry. If the
exception persists, it is possible that the throughput limits have been exceeded for the delivery
stream.</p>
<p>Data records sent to Kinesis Data Firehose are stored for 24 hours from the time they are added to
a delivery stream as it tries to send the records to the destination. If the destination is
unreachable for more than 24 hours, the data is no longer available.</p>
<p>Don&#39;t concatenate two or more base64 strings to form the data fields of your records. Instead,
concatenate the raw data, then perform base64 encoding.</p>

  </section>
</section>
<section class="detail" id="put_record_batch/3">

    <span id="put_record_batch/2"></span>

  <div class="detail-header">
    <a href="#put_record_batch/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">put_record_batch(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L227" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Writes multiple data records into a delivery stream in a single call, which can achieve higher
throughput per producer than when writing single records.</p>
<p>To write single data records into a delivery stream, use <code class="inline">PutRecord</code>. Applications using these
operations are referred to as producers.</p>
<p>For information about service quota, see <a href="https://docs.aws.amazon.com/firehose/latest/dev/limits.html">Amazon Kinesis Data Firehose Quota</a>.</p>
<p>Each <code class="inline">PutRecordBatch</code> request supports up to 500 records. Each record in the request can be as
large as 1,000 KB (before 64-bit encoding), up to a limit of 4 MB for the entire request. These
limits cannot be changed.</p>
<p>You must specify the name of the delivery stream and the data record when using <code class="inline">PutRecord</code>. The
data record consists of a data blob that can be up to 1,000 KB in size, and any kind of data. For
example, it could be a segment from a log file, geographic location data, website clickstream
data, and so on.</p>
<p>Kinesis Data Firehose buffers records before delivering them to the destination. To disambiguate
the data blobs at the destination, a common solution is to use delimiters in the data, such as a
newline (<code class="inline"></code>) or some other character unique within the data. This allows the consumer
application to parse individual data items when reading the data from the destination.</p>
<p>The <code class="inline">PutRecordBatch</code> response includes a count of failed records, <code class="inline">FailedPutCount</code>, and an array
of responses, <code class="inline">RequestResponses</code>. Even if the <code class="inline">PutRecordBatch</code> call succeeds, the value of
<code class="inline">FailedPutCount</code> may be greater than 0, indicating that there are records for which the operation
didn&#39;t succeed. Each entry in the <code class="inline">RequestResponses</code> array provides additional information about
the processed record. It directly correlates with a record in the request array using the same
ordering, from the top to the bottom. The response array always includes the same number of
records as the request array. <code class="inline">RequestResponses</code> includes both successfully and unsuccessfully
processed records. Kinesis Data Firehose tries to process all records in each <code class="inline">PutRecordBatch</code>
request. A single record failure does not stop the processing of subsequent records.</p>
<p>A successfully processed record includes a <code class="inline">RecordId</code> value, which is unique for the record. An
unsuccessfully processed record includes <code class="inline">ErrorCode</code> and <code class="inline">ErrorMessage</code> values. <code class="inline">ErrorCode</code>
reflects the type of error, and is one of the following values: <code class="inline">ServiceUnavailableException</code> or
<code class="inline">InternalFailure</code>. <code class="inline">ErrorMessage</code> provides more detailed information about the error.</p>
<p>If there is an internal server error or a timeout, the write might have completed or it might have
failed. If <code class="inline">FailedPutCount</code> is greater than 0, retry the request, resending only those records
that might have failed processing. This minimizes the possible duplicate records and also reduces
the total bytes sent (and corresponding charges). We recommend that you handle any duplicates at
the destination.</p>
<p>If <code class="inline">PutRecordBatch</code> throws <code class="inline">ServiceUnavailableException</code>, back off and retry. If the exception
persists, it is possible that the throughput limits have been exceeded for the delivery stream.</p>
<p>Data records sent to Kinesis Data Firehose are stored for 24 hours from the time they are added to
a delivery stream as it attempts to send the records to the destination. If the destination is
unreachable for more than 24 hours, the data is no longer available.</p>
<p>Don&#39;t concatenate two or more base64 strings to form the data fields of your records. Instead,
concatenate the raw data, then perform base64 encoding.</p>

  </section>
</section>
<section class="detail" id="start_delivery_stream_encryption/3">

    <span id="start_delivery_stream_encryption/2"></span>

  <div class="detail-header">
    <a href="#start_delivery_stream_encryption/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">start_delivery_stream_encryption(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L269" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Enables server-side encryption (SSE) for the delivery stream.</p>
<p>This operation is asynchronous. It returns immediately. When you invoke it, Kinesis Data Firehose
first sets the encryption status of the stream to <code class="inline">ENABLING</code>, and then to <code class="inline">ENABLED</code>. The
encryption status of a delivery stream is the <code class="inline">Status</code> property in
<code class="inline">DeliveryStreamEncryptionConfiguration</code>. If the operation fails, the encryption status changes to
<code class="inline">ENABLING_FAILED</code>. You can continue to read and write data to your delivery stream while the
encryption status is <code class="inline">ENABLING</code>, but the data is not encrypted. It can take up to 5 seconds after
the encryption status changes to <code class="inline">ENABLED</code> before all records written to the delivery stream are
encrypted. To find out whether a record or a batch of records was encrypted, check the response
elements <code class="inline">PutRecordOutput$Encrypted</code> and <code class="inline">PutRecordBatchOutput$Encrypted</code>, respectively.</p>
<p>To check the encryption status of a delivery stream, use <code class="inline">DescribeDeliveryStream</code>.</p>
<p>Even if encryption is currently enabled for a delivery stream, you can still invoke this operation
on it to change the ARN of the CMK or both its type and ARN. If you invoke this method to change
the CMK, and the old CMK is of type <code class="inline">CUSTOMER_MANAGED_CMK</code>, Kinesis Data Firehose schedules the
grant it had on the old CMK for retirement. If the new CMK is of type <code class="inline">CUSTOMER_MANAGED_CMK</code>,
Kinesis Data Firehose creates a grant that enables it to use the new CMK to encrypt and decrypt
data and to manage the grant.</p>
<p>If a delivery stream already has encryption enabled and then you invoke this operation to change
the ARN of the CMK or both its type and ARN and you get <code class="inline">ENABLING_FAILED</code>, this only means that
the attempt to change the CMK failed. In this case, encryption remains enabled with the old CMK.</p>
<p>If the encryption status of your delivery stream is <code class="inline">ENABLING_FAILED</code>, you can invoke this
operation again with a valid CMK. The CMK must be enabled and the key policy mustn&#39;t explicitly
deny the permission for Kinesis Data Firehose to invoke KMS encrypt and decrypt operations.</p>
<p>You can enable SSE for a delivery stream only if it&#39;s a delivery stream that uses <code class="inline">DirectPut</code> as
its source.</p>
<p>The <code class="inline">StartDeliveryStreamEncryption</code> and <code class="inline">StopDeliveryStreamEncryption</code> operations have a combined
limit of 25 calls per delivery stream per 24 hours. For example, you reach the limit if you call
<code class="inline">StartDeliveryStreamEncryption</code> 13 times and <code class="inline">StopDeliveryStreamEncryption</code> 12 times for the same
delivery stream in a 24-hour period.</p>

  </section>
</section>
<section class="detail" id="stop_delivery_stream_encryption/3">

    <span id="stop_delivery_stream_encryption/2"></span>

  <div class="detail-header">
    <a href="#stop_delivery_stream_encryption/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_delivery_stream_encryption(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L295" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Disables server-side encryption (SSE) for the delivery stream.</p>
<p>This operation is asynchronous. It returns immediately. When you invoke it, Kinesis Data Firehose
first sets the encryption status of the stream to <code class="inline">DISABLING</code>, and then to <code class="inline">DISABLED</code>. You can
continue to read and write data to your stream while its status is <code class="inline">DISABLING</code>. It can take up to
5 seconds after the encryption status changes to <code class="inline">DISABLED</code> before all records written to the
delivery stream are no longer subject to encryption. To find out whether a record or a batch of
records was encrypted, check the response elements <code class="inline">PutRecordOutput$Encrypted</code> and
<code class="inline">PutRecordBatchOutput$Encrypted</code>, respectively.</p>
<p>To check the encryption state of a delivery stream, use <code class="inline">DescribeDeliveryStream</code>.</p>
<p>If SSE is enabled using a customer managed CMK and then you invoke <code class="inline">StopDeliveryStreamEncryption</code>,
Kinesis Data Firehose schedules the related KMS grant for retirement and then retires it after it
ensures that it is finished delivering records to the destination.</p>
<p>The <code class="inline">StartDeliveryStreamEncryption</code> and <code class="inline">StopDeliveryStreamEncryption</code> operations have a combined
limit of 25 calls per delivery stream per 24 hours. For example, you reach the limit if you call
<code class="inline">StartDeliveryStreamEncryption</code> 13 times and <code class="inline">StopDeliveryStreamEncryption</code> 12 times for the same
delivery stream in a 24-hour period.</p>

  </section>
</section>
<section class="detail" id="tag_delivery_stream/3">

    <span id="tag_delivery_stream/2"></span>

  <div class="detail-header">
    <a href="#tag_delivery_stream/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">tag_delivery_stream(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L313" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Adds or updates tags for the specified delivery stream.</p>
<p>A tag is a key-value pair that you can define and assign to AWS resources. If you specify a tag
that already exists, the tag value is replaced with the value that you specify in the request.
Tags are metadata. For example, you can add friendly names and descriptions or other types of
information that can help you distinguish the delivery stream. For more information about tags,
see <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html">Using Cost Allocation Tags</a> in the
<em>AWS Billing and Cost Management User Guide</em>.</p>
<p>Each delivery stream can have up to 50 tags.</p>
<p>This operation has a limit of five transactions per second per account.</p>

  </section>
</section>
<section class="detail" id="untag_delivery_stream/3">

    <span id="untag_delivery_stream/2"></span>

  <div class="detail-header">
    <a href="#untag_delivery_stream/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">untag_delivery_stream(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L326" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Removes tags from the specified delivery stream.</p>
<p>Removed tags are deleted, and you can&#39;t recover them after this operation successfully completes.</p>
<p>If you specify a tag that doesn&#39;t exist, the operation ignores it.</p>
<p>This operation has a limit of five transactions per second per account.</p>

  </section>
</section>
<section class="detail" id="update_destination/3">

    <span id="update_destination/2"></span>

  <div class="detail-header">
    <a href="#update_destination/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">update_destination(client, input, options \\ [])</h1>

      <a href="https://github.com/aws-beam/aws-elixir/blob/master/lib/aws/generated/firehose.ex#L359" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>



  </div>

  <section class="docstring">
<p>Updates the specified destination of the specified delivery stream.</p>
<p>Use this operation to change the destination type (for example, to replace the Amazon S3
destination with Amazon Redshift) or change the parameters associated with a destination (for
example, to change the bucket name of the Amazon S3 destination). The update might not occur
immediately. The target delivery stream remains active while the configurations are updated, so
data writes to the delivery stream can continue during this process. The updated configurations
are usually effective within a few minutes.</p>
<p>Switching between Amazon ES and other services is not supported. For an Amazon ES destination, you
can only update to another Amazon ES destination.</p>
<p>If the destination type is the same, Kinesis Data Firehose merges the configuration parameters
specified with the destination configuration that already exists on the delivery stream. If any of
the parameters are not specified in the call, the existing values are retained. For example, in
the Amazon S3 destination, if <code class="inline">EncryptionConfiguration</code> is not specified, then the existing
<code class="inline">EncryptionConfiguration</code> is maintained on the destination.</p>
<p>If the destination type is not the same, for example, changing the destination from Amazon S3 to
Amazon Redshift, Kinesis Data Firehose does not merge any parameters. In this case, all parameters
must be specified.</p>
<p>Kinesis Data Firehose uses <code class="inline">CurrentDeliveryStreamVersionId</code> to avoid race conditions and
conflicting merges. This is a required field, and the service updates the configuration only if
the existing configuration has a version ID that matches. After the update is applied
successfully, the version ID is updated, and can be retrieved using <code class="inline">DescribeDeliveryStream</code>. Use
the new version ID to set <code class="inline">CurrentDeliveryStreamVersionId</code> in the next call.</p>

  </section>
</section>

          </div>
        </section>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.21.2),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
